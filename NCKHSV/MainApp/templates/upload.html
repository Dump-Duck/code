{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'assets/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/upload-update.css' %}">

    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome-free-6.1.1-web/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/fonts/fontawesome-free-6.1.1-web/css/all.css' %}">
    <title>UPLOAD</title>
</head>
<body>
    
    <header  id="header-menu"  class="header">
        <div class="header_logo">
            <a href="{% url 'main' %}"><img class="header_logo_img" src="{% static 'assets/img/Home_logo.png' %}" alt=""></a>
        </div>

        <section class="menu_header">
            <nav class="item-header">
               <a href="{% url 'main' %}">Trang chủ</a> <div id="mobile-menu" class="menu_btn"><i class=" fa-solid fa-bars"></i></div> 
               <a href="{% url 'map' %}">Bản Đồ</a>
               <a href="{% url 'contact' %}">Liên Lạc</a>
                {% if user.is_authenticated %}
               <a href="{% url 'manage' %}">Quản Lý</a>
               <a href="{% url 'upload' %}">Đăng Tải</a>
               <a href="{% url 'logout' %}">Đăng Xuất</a>
                {% else %}
               <a href="{% url 'login' %}">Đăng Nhập</a>
                {% endif %}
            </nav>
        </section>
    </header>


    <div class="content">
        <h2 class="text_content">Đăng tải thông tin nhà trọ</h2>
        <form method="post" enctype="multipart/form-data">  
            {% csrf_token %}
            {% for field in uploadForm %}
            <div class="content_upload"> 
                <p class="label">{{ field.label }}:  </p>
                    {% if field.name == 'house_type' %}
                    <select class="select" name="{{ field.name }}">
                        {% for i in house_types %}
                        <option class="option_item" value="{{ i.id }}">{{ i.house_type }}</option>
                        {% endfor %}    
                    </select>
                    {% elif field.name == 'district' %}
                    <select class="select"  name="{{ field.name }}">
                        {% for i in districts %}
                        <option class="option_item" value="{{ i.id }}">{{ i.district }}</option>
                        {% endfor %}
                    </select>
                    {% elif field.name == 'ward' %}
                    <select class="select"  name="{{ field.name }}">
                        {% for i in wards %}
                        <option  class="option_item" value="{{ i.id }}">{{ i.ward }}</option>
                        {% endfor %}
                    </select>
                    {% elif field.name == 'images' %}
                    <input class="input_img" type='file' name="images" multiple>
                    {% elif field.name != 'address' and field.name != 'price_per_month' and field.name != 'area' and field.name != 'description' and field.name != 'water_price' and field.name != 'price_per_electric_num' and field.name != 'junk_money' and field.name != 'wc' and field.name != 'lat' and field.name != 'lng' %}
                    
                    <div class="radio">
                        <div class="radio_item">
                            <span>Không</span>
                            <input type="radio" name="{{ field.name }}" value="0">
                        </div>
                        <div class="radio_item">
                            <span>Có</span>
                            <input type="radio" name="{{ field.name }}" value="1" checked>
                        </div>
                    </div>
                    {%elif field.name == 'wc'%}
                    <div class="radio">
                        <div class="radio_item">
                            <span>Chung</span>
                            <input type="radio" name="{{ field.name }}" value="0">
                        </div>
                        <div class="radio_item">
                            <span>Riêng</span>
                            <input type="radio" name="{{ field.name }}" value="1" checked>
                        </div>
                    </div>
                    {%elif field.name == 'description'%}
                    <textarea name="{{ field.name }}" placeholder="Nhập {{ field.label.title }}"></textarea>
                    {% else %}
                    <input class="input" type="text" name="{{ field.name }}" placeholder="Nhập {{ field.label.title }}"> 
                    {% endif %}
            </div>
            {% endfor %}
            <div class="box">
                <input class="btn_submit" type="submit" value="Đăng tin">
            </div>
        </form>
    </div>
    <script>
        const header = document.getElementById('header-menu');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenu.onclick = function() {
            var isClosed = header.clientHeight === 60;
            if (isClosed) {
                header.style.height = "auto";
            }
            else{
                header.style.height = "60px";
            }
        }

    </script>

</body>
</html>

